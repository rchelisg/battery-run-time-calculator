<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Page description -->
  <meta name="description" content="Calculate how long your battery will last based on capacity and load.">
  <meta name="theme-color" content="#1976D2">

  <!-- Apple PWA meta tags (required for iPhone) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Battery Calc">
  <link rel="apple-touch-icon" href="icons/icon.png">

  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="icons/icon.png">

  <title>Battery Run Time Calculator</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <div class="app-container">

    <header class="app-header">
      <h1>ðŸ”‹ Battery Run Time Calculator</h1>
    </header>

    <!-- â”€â”€ Navigation tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <nav class="nav-bar" aria-label="App sections">
      <button class="nav-btn active" id="nav-calc">Calc</button>
      <button class="nav-btn"        id="nav-time">DfTime</button>
      <button class="nav-btn"        id="nav-cost">DfCost</button>
      <button class="nav-btn"        id="nav-load">DfLoad</button>
    </nav>

    <main class="app-main">

      <!-- â•â• PAGE Calc â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <!-- PACK + LOAD/L(x) + REPORT TIME (T calculated from E and L)        -->
      <div id="page-calc" class="page">

        <!-- â”€â”€ PACK card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="card pack-card">
          <h2>PACK</h2>

          <!-- Content area: input row + error strip -->
          <div class="pack-content">

            <div class="pack-row">

              <!-- N: cells in series â€” single digit only -->
              <div class="pack-field pack-field-narrow">
                <label class="pack-label" for="input-N">Cells</label>
                <input class="field-input pack-input" type="text" id="input-N"
                       inputmode="numeric" maxlength="1" value="7">
              </div>

              <!-- C: nominal cell capacity â€” extra right margin separates it from Min/Max group -->
              <div class="pack-field pack-field-nominal">
                <label class="pack-label" for="input-C">Nominal</label>
                <div class="pack-input-row">
                  <input class="field-input pack-input pack-input-c" type="number" id="input-C"
                         inputmode="numeric" min="100" max="8000" step="1" value="2000">
                  <span class="pack-unit">mAh</span>
                </div>
              </div>

              <!-- Cmin + Cmax: grouped and right-aligned via margin-left:auto -->
              <div class="pack-minmax-group">

                <div class="pack-field">
                  <label class="pack-label" for="input-Cmin">Min</label>
                  <div class="pack-input-row">
                    <input class="field-input pack-input pack-input-c" type="number" id="input-Cmin"
                           inputmode="numeric" step="1">
                    <span class="pack-unit">mAh</span>
                  </div>
                </div>

                <div class="pack-field">
                  <label class="pack-label" for="input-Cmax">Max</label>
                  <div class="pack-input-row">
                    <input class="field-input pack-input pack-input-c" type="number" id="input-Cmax"
                           inputmode="numeric" step="1">
                    <span class="pack-unit unit-max">mAh</span>
                  </div>
                </div>

              </div><!-- /pack-minmax-group -->

            </div><!-- /pack-row -->

            <!-- Shared error strip â€” fixed height so card never resizes -->
            <p class="pack-error" id="pack-error"></p>

          </div><!-- /pack-content -->

          <!-- Invisible spacer â€” matches LOAD +/- strip width; aligns Cmax/Lmax right edges -->
          <div class="pack-ctrl-spacer" aria-hidden="true"></div>

        </div><!-- /pack-card -->

        <!-- â”€â”€ LOAD group: summary + individual LOAD x cards (tight spacing) â”€â”€ -->
        <div class="load-group" id="load-group">

          <!-- LOAD summary card â€” display-only totals; always shown at top of group -->
          <div class="card load-card load-summary-card" id="load-summary-card">
            <h2>LOAD</h2>
            <div class="load-content">
              <div class="load-row">
                <!-- Nominal total -->
                <div class="load-field load-field-nominal">
                  <label class="load-label">Nominal</label>
                  <div class="load-input-row">
                    <span class="load-summary-val" id="ls-L">â€”</span>
                    <span class="load-unit">W</span>
                  </div>
                </div>
                <!-- Min + Max totals grouped right -->
                <div class="load-minmax-group">
                  <div class="load-field">
                    <label class="load-label">Min</label>
                    <div class="load-input-row">
                      <span class="load-summary-val" id="ls-Lmin">â€”</span>
                      <span class="load-unit">W</span>
                    </div>
                  </div>
                  <div class="load-field">
                    <label class="load-label">Max</label>
                    <div class="load-input-row">
                      <span class="load-summary-val" id="ls-Lmax">â€”</span>
                      <span class="load-unit">W</span>
                    </div>
                  </div>
                </div><!-- /load-minmax-group -->
              </div><!-- /load-row -->
            </div><!-- /load-content -->
            <!-- Spacer matches LOAD cards' +/- strip width for consistent alignment -->
            <div class="pack-ctrl-spacer" aria-hidden="true"></div>
          </div><!-- /load-summary-card -->

          <!-- LOAD x cards container â€” dynamically added / removed -->
          <div id="load-cards-container"></div>

        </div><!-- /load-group -->

        <!-- â”€â”€ REPORT TIME card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <!-- Extra top margin gives 2Ã— spacing after the last LOAD card   -->
        <!-- T / Tmin / Tmax are calculated from PACK and LOAD (E = NÃ—3.6Ã—C/1000) -->
        <div class="card report-time-card" id="report-time-card">
          <div id="report-time-wrap" aria-live="polite" aria-label="Run time report"></div>
        </div><!-- /report-time-card -->

      </div><!-- /page-calc -->

      <!-- â•â• PAGE Time â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <div id="page-time" class="page page-hidden">

        <!-- â”€â”€ TIME card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <!-- T = nominal run time; Tmin = minimum run time; Tmax = calculated (read-only) -->
        <div class="card load-card time-card" id="time-card">
          <h2>TIME</h2>
          <div class="load-content">
            <div class="load-row">

              <!-- T: nominal run time (user entry) -->
              <div class="load-field load-field-nominal">
                <label class="load-label" for="input-T">Nominal</label>
                <div class="load-input-row">
                  <input class="field-input load-input" type="number"
                         id="input-T" inputmode="decimal" step="0.1">
                  <span class="load-unit">Min</span>
                </div>
              </div>

              <!-- Tmin + Tmax grouped right -->
              <div class="load-minmax-group">
                <div class="load-field">
                  <label class="load-label" for="input-Tmin">Min</label>
                  <div class="load-input-row">
                    <input class="field-input load-input" type="number"
                           id="input-Tmin" inputmode="decimal" step="0.1">
                    <span class="load-unit">Min</span>
                  </div>
                </div>
                <div class="load-field">
                  <label class="load-label">Max</label>
                  <div class="load-input-row">
                    <input class="field-input load-input time-calc-field"
                           type="text" id="input-Tmax" readonly placeholder="â€”">
                    <span class="load-unit unit-max">Min</span>
                  </div>
                </div>
              </div><!-- /load-minmax-group -->

            </div><!-- /load-row -->
            <p class="load-error" id="time-error"></p>
          </div><!-- /load-content -->

          <!-- Controls strip: buttons hidden â€” TIME card is always exactly one -->
          <div class="load-controls">
            <button class="load-btn" style="visibility:hidden" disabled aria-hidden="true">âˆ’</button>
            <button class="load-btn" style="visibility:hidden" disabled aria-hidden="true">+</button>
          </div>
        </div><!-- /time-card -->

      </div><!-- /page-time -->

      <!-- â•â• PAGE Cost â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <div id="page-cost" class="page page-hidden">
        <!-- content coming soon -->
      </div><!-- /page-cost -->

      <!-- â•â• PAGE Load â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <div id="page-load" class="page page-hidden">
        <!-- content coming soon -->
      </div><!-- /page-load -->

    </main>

    <footer class="app-footer">
      <p><span id="footer-timestamp"></span>BRTC &copy; 2026 V1.0</p>
    </footer>

  </div>

  <script src="js/app.js"></script>
</body>
</html>
